% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/convertASpli.R
\name{convertASpli}
\alias{convertASpli}
\title{Converting SummarizedExperiment with different ASpli-counts to
gene, bin or junction level counts.}
\usage{
convertASpli(ASpliSE, type = "none", filter = TRUE, ...)
}
\arguments{
\item{ASpliSE}{An SummarizedExperiment object obtained by the
`BamtoAspliCounts` function, which contains gene, bin and junction level
counts in the metadata slot.}

\item{type}{character vector specifying the counts to be extracted. Can be
`gene`, `bin` and `junction`.}

\item{filter}{logical value specifying to filter bin counts based on the
type of bin. Regions that contain both intronic and exonic regions are
filtered as the intron and exon bins are already defined in other features.}

\item{...}{extra parameters for filtering.}
}
\value{
A `SummarizedExperiment` instance, representing the `gene`, `bin` or
`junction` counts as specified.
}
\description{
convertASpli is used to obtain gene, bin or junction level counts from
a SummarizedExperiment object containing these three in the metadata slot.
}
\examples{

\dontrun{
gtfFileName <- aspliExampleGTF()
BAMFiles <- aspliExampleBamList()
targets <- data.frame(
    row.names = paste0('Sample',c(1:12)),
    bam = BAMFiles,
    f1 = rep("A",12),
    stringsAsFactors = FALSE)
genomeTxDb <- makeTxDbFromGFF(gtfFileName)
features <- binGenome(genomeTxDb)

ASpliSE <- BamtoAspliCounts(
    features = features,
    targets = targets,
    minReadLength = 100,
    libType = "SE",
    BPPARAM = MulticoreParam(1L)
)

SEgenes <- convertASpli(ASpliSE, type = "gene")
SEbins <- convertASpli(ASpliSE, type = "bin")
SEjunctions <- convertASpli(ASpliSE, type = "junction")

metadata(SEgenes)$design <- ~1
metadata(SEbins)$design <- ~1
metadata(SEjunctions)$design <- ~1

SEgenes <- calculateOffsets(SEgenes, method = "TMM")
SEbins <- calculateOffsets(SEbins,
                           method = "AS",
                           aggregation = "locus")
SEjunctions <- calculateOffsets(SEjunctions,
                                method = "AS",
                                aggregation = "symbol",
                                mergeGeneASpli = TRUE)

SEgenes <- saseRfindEncodingDim(SEgenes, method = "GD")
SEbins <- saseRfindEncodingDim(SEbins, method = "GD")
SEjunctions <- saseRfindEncodingDim(SEjunctions, method = "GD")

SEgenes <- saseRfit(SEgenes,
                    analysis = "AE",
                    padjust = "BH",
                    fit = "fast")
SEbins <- saseRfit(SEbins,
                   analysis = "AS",
                   padjust = "BH",
                   fit = "fast")
SEjunctions <- saseRfit(SEjunctions,
                        analysis = "AS",
                        padjust = "BH",
                        fit = "fast")
}
}
